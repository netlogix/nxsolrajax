plugin.tx_nxsolrajax {

	mvc {
		throwPageNotFoundExceptionIfActionCantBeResolved = 1
	}

	features {
		skipDefaultArguments = 1
	}

	view {
		pluginNamespace = tx_solr
	}

	settings {

	}
}

plugin.tx_nxsolrajax.settings < plugin.tx_solr
plugin.tx_solr.settings < plugin.tx_solr

[globalVar = GP:tx_solr|isAjax > 0] || [globalString = LIT: Comment = Search Pages]

plugin.tx_solr {
	settings {
		search {
			faceting = 1
			results {
				resultClassNameMapping {
					defaultResult = Netlogix\Nxsolrajax\Domain\Model\Dto\Result
				}
			}
		}
	}
}

## Clear existing JS and CSS because it's already loaded
page {
	includeJSlibs >
	includeJS >
	includeJSFooterlibs >
	includeJSFooter >
	includeCSS >
	headerData >
	meta >
	bodyTag >

	config {
		disableAllHeaderCode = 1
		disablePrefixComment = 1
		additionalHeaders = Content-type:application/json
	}

	10 >
	10 = USER
	10 {
		userFunc = \TYPO3\CMS\Extbase\Core\Bootstrap->run

		vendorName = Netlogix
		extensionName = Nxsolrajax
		pluginName = AjaxSearch
		controller = Search
		action = search
		settings < plugin.tx_solr
	}
}
[GLOBAL]