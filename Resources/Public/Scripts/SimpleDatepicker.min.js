!function(e,t,a){"use strict";var r=t.module("nx.solrajax.simpleDatepicker",[]);r.controller("SimpleDatepickerController",["$scope","dateFilter",function(e,a){var r=this;e.date={start:{month:null,year:null},end:{month:null,year:null}},e.months=[],e.years=[],e.submit=function(){var a=new Date(e.date.start.year.date.getFullYear(),e.date.start.month.date.getMonth(),1),n=new Date(e.date.end.year.date.getFullYear(),e.date.end.month.date.getMonth(),1);r.ngModelCtrl.$setViewValue({start:a,end:n}),t.isFunction(e.submitCallback)&&e.submitCallback()},e.reset=function(){t.isFunction(e.resetCallback)&&e.resetCallback()},r.formatMonth="MMMM",r.formatYear="yyyy",r.startYear=new Date(e.minDate).getFullYear(),r.currentYear=(new Date).getFullYear(),r.ngModelCtrl={},r.createDateObject=function(e,t){return{date:e,label:a(e,t)}},r.init=function(a){function n(t){return e.years.filter(function(e){return parseInt(e.label)===t?e:void 0})[0]}r.ngModelCtrl=a;for(var l=0;12>l;l++)e.months.push(r.createDateObject(new Date(0,l,1),r.formatMonth));for(var o=0;o<r.currentYear-r.startYear+1;o++){var s=r.startYear+o;e.years.push(r.createDateObject(new Date(s,0,1),r.formatYear))}var i,c;e.startDate&&(i=new Date(e.startDate).getMonth(),c=new Date(e.startDate).getFullYear(),t.isObject(e.months[i])&&(e.date.start.month=e.months[i]),e.date.start.year=n(c)),e.endDate&&(i=new Date(e.endDate).getMonth(),c=new Date(e.endDate).getFullYear(),t.isObject(e.months[i])&&(e.date.end.month=e.months[i]),e.date.end.year=n(c))}}]),r.value("nx.solrajax.simpleDatepicker.templateUrl","typo3conf/ext/nxsolrajax/Resources/Public/Templates/SimpleDatepicker/SimpleDatepicker.html"),r.directive("simpleDatepicker",["nx.solrajax.simpleDatepicker.templateUrl",function(e){return{restrict:"EA",replace:!0,templateUrl:e,scope:{selected:"=?",startDate:"=?",endDate:"=?",minDate:"=?",submitCallback:"&?submit",resetCallback:"&?reset"},require:["simpleDatepicker","?^ngModel"],controller:"SimpleDatepickerController",link:function(e,t,a,r){var n=r[0],l=r[1];n.init(l)}}}])}(window,angular);
//# sourceMappingURL=./SimpleDatepicker.min.js.map